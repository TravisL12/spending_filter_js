<div class='col-md-12'>
  <div class='year-pagination'>
    <ul class='year-range'><li ng-repeat='year in yearRange' ng-class='{"active": selectedYear == year }' ng-click='selectYear()'>{{year}}</li></ul>
  </div>
</div>

<div class='date-grid col-md-7'>

  <table class='table table-bordered table-condensed'>
    <thead>
      <th></th>
      <th class='months' ng-repeat='month in monthAbbreviations track by $index'>{{month}}</th>
    </thead>
    <tbody>
      <tr ng-repeat='i in getNumber(31) track by $index'>
        <td class='days-of-month'>{{$index+1}}</td>
        <td class='day' 
            ng-class='[{"active": highlightActiveDay()}, setDayStyling()]' 
            ng-click='showTransactions()' 
            ng-repeat='i in getNumber(12) track by $index'>{{getDate($index+1, $parent.$index+1).total | currency:'$':0 }}</td>
      </tr>
      <tr>
        <td class='days-of-month'>Total:</td>
        <td class='day' ng-class='setMonthStyling()' ng-repeat='i in getNumber(12) track by $index'>{{getDate($index+1).total | currency:'$':0}}</td>
      </tr>
      <tr>
        <td colspan='9'></td>
        <td colspan='2'>Year Total:</td>
        <td colspan='2'>{{allRecords[selectedYear].total | currency:'$':0}}</td>
      </tr>
    </tbody>
  </table>

</div>

<div class='col-md-5'>

  <div class='row input-fields'>

    <div class='form-group'>
      <label>Description:</label>
      <input class='form-control' ng-change='filterPrice()' ng-model-options='{ debounce: 1000 }' type='text' ng-model='searchRecords.description'>
    </div>

    <div class='row form-group'>
      <div class='col-md-6'>
        <label>Min Price:</label>
        <input class='form-control' ng-change='filterPrice()' type='number' step='5' min='0' ng-model-options='{ debounce: 1000 }' ng-model='searchRecords.priceMin'>
      </div>
      <div class='col-md-6'>
        <label>High Price:</label>
        <input class='form-control' ng-change='filterPrice()' type='number' step='5' min='0' ng-model-options='{ debounce: 1000 }' ng-model='searchRecords.priceMax'>
      </div>
    </div>

    <div class='row form-group'>
      <div class='col-md-12'><button class='btn btn-xs btn-default' ng-click='clearFilters()'>Clear Filters</button></div>
    </div>

    <div class='form-group'>
      <label>Category:</label>
      <button class='btn btn-default btn-xs'>Select All</button>
      <button class='btn btn-default btn-xs'>Select None</button>
      <ul class='category-checkboxes'>
        <li ng-repeat='category in categories | orderBy' ng-if='category != ""'>
          <label id='category-{{category}}'><input type='checkbox' for='category-{{category}}' ng-change='filterPrice()' ng-model='searchRecords.category'> {{category}}</label>
        </li>
      </ul>
    </div>

  </div>

  <div class='row transaction-table'>
    <h4>Date: {{transactionDate}}/{{selectedYear}}</h4>
    <table class='table table-hover table-striped table-condensed'>
      <thead>
        <th>Amount</th>
        <th>Category</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr ng-repeat='transaction in selectedDate.transactions'>
          <td class='col-md-2'>{{transaction.amount | currency}}</td>
          <td class='col-md-3'>{{transaction.category}}</td>
          <td class='col-md-7'>{{transaction.description}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
